# Key
- vision - thá»‹ giÃ¡c mÃ¡y tÃ­nh
- occlusion - táº¯c ngháº½n
- SOTA - State-of-the-art

# Æ¯á»›c tÃ­nh cÆ¡ thá»ƒ ngÆ°á»i tá»« 6 cáº£m biáº¿n quÃ¡n tÃ­nh chi phÃ­ tháº¥p trong thá»i gian thá»±c

## Abstract: Trá»«u tÆ°á»£ng

Kháº£ nÄƒng ghi láº¡i chuyá»ƒn Ä‘á»™ng cá»§a con ngÆ°á»i tá»« cÃ¡c cáº£m biáº¿n quÃ¡n tÃ­nh Ä‘Ã£ cho tháº¥y tiá»m nÄƒng lá»›n so vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n dá»±a trÃªn thá»‹ giÃ¡c mÃ¡y tÃ­nh vÃ¬ khÃ´ng gáº·p pháº£i háº¡n cháº¿ vá» khÃ´ng gian hoáº¡t Ä‘á»™ng vÃ  táº¯c ngháº½n do cÃ¡c bá»™ pháº­n cÆ¡ thá»ƒ bá»‹ che khuáº¥t. CÃ¡c nghiÃªn cá»©u SOTA gáº§n Ä‘Ã¢y sá»­ dá»¥ng cáº£m biáº¿n quÃ¡n tÃ­nh chuyÃªn dá»¥ng cá»§a Xsens vÃ  Noitom cÃ³ giÃ¡ thÃ nh ráº¥t cao Ä‘á»“ng thá»i yÃªu cáº§u mÃ¡y tÃ­nh sá»­ dá»¥ng GPU dáº«n Ä‘áº¿n viá»‡c triá»ƒn khai trá»Ÿ nÃªn tá»‘n kÃ©m vÃ  khÃ³ phá»• biáº¿n. Viá»‡c ghi láº¡i chuyá»ƒn Ä‘á»™ng thá»i gian thá»±c sá»­ dá»¥ng cáº£m biáº¿n quÃ¡n tÃ­nh chi phÃ­ tháº¥p vÃ  triá»ƒn khai trÃªn mÃ¡y tÃ­nh cáº¥u hÃ¬nh tháº¥p chá»‰ sá»­ dá»¥ng CPU lÃ  má»™t thÃ¡ch thá»©c. Äá»ƒ Ä‘áº¡t Ä‘Æ°á»£c má»¥c Ä‘Ã­ch nÃ y, chÃºng tÃ´i trÃ¬nh bÃ y tÃ¡i táº¡o káº¿t quáº£ cá»§a bÃ i bÃ¡o Transpose sá»­ dá»¥ng 6 cáº£m biáº¿n quÃ¡n tÃ­nh Hi229 chi phÃ­ tháº¥p vÃ  tá»‘i Æ°u hÃ³a máº¡ng Neural Network Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c 24 FPS trÃªn CPU i5-5200U trong thá»i gian thá»±c. CÃ¡c thÃ­ nghiá»‡m chá»©ng minh ráº±ng cÃ¡c cáº£m biáº¿n quÃ¡n tÃ­nh chi phÃ­ tháº¥p cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ ghi láº¡i chuyá»ƒn Ä‘á»™ng vá»›i Ä‘á»™ chÃ­nh xÃ¡c vÃ  á»•n Ä‘á»‹nh theo thá»i gian.

Keywords: IMU, Pose Estimation, Inverse Kinematics, Real-time, Low-cost

## 1\. Introduction:

### 1.1\. Background:

Chá»¥p chuyá»ƒn Ä‘á»™ng cá»§a con ngÆ°á»i (Mocap) nháº±m má»¥c Ä‘Ã­ch tÃ¡i táº¡o láº¡i cÃ¡c chuyá»ƒn Ä‘á»™ng cÆ¡ thá»ƒ con ngÆ°á»i 3D, Ä‘Ã³ng má»™t vai trÃ² quan trá»ng trong cÃ¡c á»©ng dá»¥ng khÃ¡c nhau nhÆ° chÆ¡i Game, thá»ƒ thao, Y há»c, VR/AR vÃ  sáº£n xuáº¥t phim. Cho Ä‘áº¿n nay, cÃ¡c giáº£i phÃ¡p Mocap dá»±a trÃªn thá»‹ giÃ¡c mÃ¡y tÃ­nh chiáº¿m pháº§n lá»›n trong chá»§ Ä‘á» nÃ y. Má»™t trong nhá»¯ng cÃ¡ch tiáº¿p cáº­n lÃ  dá»±a trÃªn Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u, cÃ¡c Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u quang há»c Ä‘Æ°á»£c gáº¯n trÃªn cÆ¡ thá»ƒ ngÆ°á»i vÃ  sá»­ dá»¥ng nhiá»u mÃ¡y áº£nh Ä‘á»ƒ theo dÃµi cÃ¡c Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u Ä‘á»ƒ ghi láº¡i chuyá»ƒn Ä‘á»™ng. VÃ­ dá»± nhÆ° há»‡ thá»‘ng [Vicon](https://www.vicon.com/) Ä‘Æ°á»£c Ã¡p dá»¥ng rá»™ng rÃ£i vÃ  Ä‘Æ°á»£c xem xÃ©t lÃ  Ä‘á»§ chÃ­nh xÃ¡c cho viá»‡c sá»­ dá»¥ng trong cÃ´ng nghiá»‡p. Tuy nhiÃªn, cÃ¡ch tiáº¿p cáº­n nÃ y yÃªu cáº§u cÆ¡ sá»Ÿ háº¡ táº§ng Ä‘áº¯t tiá»n, Ä‘iá»u nÃ y khiáº¿n chÃºng khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ cáº¥p Ä‘á»™ ngÆ°á»i tiÃªu dÃ¹ng. Gáº§n Ä‘Ã¢y, má»™t sá»‘ cÃ¡ch tiáº¿p cáº­n khÃ¡c sá»­ dá»¥ng má»™t vÃ i mÃ¡y áº£nh RGB hoáº·c RGB-D [Chen et al. 2020];[Habibie et al. 2019];[Mehtaet al. 2020];[Tome et al. 2018];[Trumble et al. 2016];[Xiang et al. 2019]. So vá»›i cÃ¡ch tiáº¿p cáº­n sá»­ dá»¥ng Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u, cÃ¡c cÃ¡ch tiáº¿p cáº­n nÃ y yÃªu cáº§u cÆ¡ sá»Ÿ háº¡ táº§n tháº¥p hÆ¡n nhiá»u. VÃ¬ cÃ¡c Ä‘áº·c Ä‘iá»ƒm cá»§a con ngÆ°á»i Ä‘Æ°á»£c trÃ­ch xuáº¥t tá»« hÃ¬nh áº£nh, do Ä‘Ã³ cÃ¡c phÆ°Æ¡ng phÃ¡p nÃ y thÆ°á»ng hoáº¡t Ä‘á»™ng kÃ©m hiá»‡u quáº£ Ä‘á»‘i vá»›i mÃ´i trÆ°á»ng Ã¡nh sÃ¡ng khÃ³ khÄƒn. HÆ¡n ná»¯a, táº¥t cáº£ cÃ¡c phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n dá»±a trÃªn thá»‹ giÃ¡c mÃ¡y tÃ­nh Ä‘á»u bá»‹ táº¯c ngháº½n do cÃ¡c bá»™ pháº­n cÆ¡ thá»ƒ bá»‹ che khuáº¥t. Váº¥n Ä‘á» nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£i quyáº¿t báº±ng cÃ¡ch tÄƒng sá»‘ lÆ°á»£ng camera. Äiá»u nÃ y cÃ ng lÃ m cho há»‡ thá»‘ng trá»Ÿ nÃªn náº·ng ná» vÃ  tá»‘n kÃ©m. NhÆ°ng nÃ³ thÆ°á»ng khÃ´ng thá»±c táº¿ trong má»™t sá»‘ á»©ng dá»¥ng. VÃ­ dá»¥, ráº¥t khÃ³ bá»‘ trÃ­ mÃ¡y áº£nh trong má»™t phÃ²ng sinh hoáº¡t cÃ³ nhiá»u Ä‘á»“ Ä‘áº¡c, váº­t dá»¥ng, nhá»¯ng Ä‘á»“ váº­t nÃ y cÃ³ thá»ƒ lÃ m chá»§ thá»ƒ bá»‹ che khuáº¥t tá»« báº¥t ká»³ hÆ°á»›ng nÃ o. Má»™t háº¡n cháº¿ khÃ¡c cá»§a phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n dá»±a trÃªn táº§m nhÃ¬n lÃ  bá»‹ háº¡n cháº¿ trong má»™t khÃ´ng gian cá»‘ Ä‘á»‹nh. Äá»‘i vá»›i cÃ¡c hoáº¡t Ä‘á»™ng hÃ ng ngÃ y nhÆ° Ä‘i bá»™ hoáº·c cháº¡y trong pháº¡m vi lá»›n, cáº§n pháº£i cÃ³ camera chuyá»ƒn Ä‘á»™ng Ä‘á»ƒ ghi láº¡i Ä‘á»§ thÃ´ng tin, Ä‘iá»u nÃ y ráº¥t khÃ³ Ä‘áº¡t Ä‘Æ°á»£c [Xu et al. 2016]. Nhá»¯ng nhÆ°á»£c Ä‘iá»ƒm nÃ y lÃ  nhá»¯ng thiáº¿u sÃ³t nghiÃªm trá»ng Ä‘á»‘i vá»›i nhiá»u á»©ng dá»¥ng, dáº«n Ä‘áº¿n kháº£ nÄƒng sá»­ dá»¥ng háº¡n cháº¿ cá»§a cÃ¡c giáº£i phÃ¡p dá»±a trÃªn thá»‹ giÃ¡c mÃ¡y tÃ­nh.

TrÃ¡i ngÆ°á»£c vá»›i cÃ¡c há»‡ thá»‘ng dá»±a trÃªn thá»‹ giÃ¡c, viá»‡c ghi láº¡i chuyá»ƒn Ä‘á»™ng báº±ng cáº£m biáº¿n quÃ¡n tÃ­nh khÃ´ng gáº·p pháº£i háº¡n cháº¿ vá» khÃ´ng gian hoáº¡t Ä‘á»™ng vÃ  táº¯c ngháº½n do cÃ¡c bá»™ pháº­n cÆ¡ thá»ƒ bá»‹ che khuáº¥t. NÃ³ cÅ©ng khÃ´ng yÃªu cáº§u thiáº¿t láº­p cÆ¡ sá»Ÿ háº¡ táº§ng phá»©c táº¡p. CÃ¡c Ä‘áº·c Ä‘iá»ƒm nÃ y lÃ m cho nÃ³ phÃ¹ há»£p hÆ¡n vá»›i cÃ¡c má»¥c Ä‘Ã­ch sá»­ dá»¥ng á»Ÿ cáº¥p Ä‘á»™ ngÆ°á»i tiÃªu dÃ¹ng. Do Ä‘Ã³, ghi láº¡i chuyá»ƒn Ä‘á»™ng báº±ng cáº£m biáº¿n quÃ¡n tÃ­nh ngÃ y cÃ ng Ä‘Æ°á»£c chÃº trá»ng hÆ¡n trong nhá»¯ng nÄƒm gáº§n Ä‘Ã¢y. Háº§u háº¿t cÃ¡c nghiÃªn cá»©u liÃªn quan Ä‘á»u sá»­ dá»¥ng ÄÆ¡n vá»‹ Ä‘o lÆ°á»ng quÃ¡n tÃ­nh (IMU) Ä‘á»ƒ ghi láº¡i quÃ¡n tÃ­nh chuyá»ƒn Ä‘á»™ng, nÃ³ tiáº¿t kiá»‡m, nháº¹, Ä‘Ã¡ng tin cáº­y vÃ  thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng trong má»™t sá»‘ lÆ°á»£ng lá»›n cÃ¡c thiáº¿t bá»‹ Ä‘eo nhÆ° Ä‘á»“ng há»“, dÃ¢y Ä‘eo tay vÃ  kÃ­nh. Há»‡ thá»‘ng Mocap quÃ¡n tÃ­nh thÆ°Æ¡ng máº¡i [Xsens](https://www.xsens.com/) sá»­ dá»¥ng 17 IMU Ä‘á»ƒ Æ°á»›c tÃ­nh chuyá»ƒn Ä‘á»™ng quay cá»§a khá»›p. Máº·c dÃ¹ chÃ­nh xÃ¡c, sá»­ dá»¥ng nhiá»u IMU gÃ¢y báº¥t tiá»‡n vÃ  ngÄƒn cáº£n ngÆ°á»i sá»­ dá»¥ng di chuyá»ƒn tá»± do. Máº·t khÃ¡c, cÃ¡c yÃªu cáº§u vá» cÆ¡ sá»Ÿ váº­t cháº¥t Ä‘á»‘i vá»›i má»™t há»‡ thá»‘ng nhÆ° váº­y váº«n náº±m ngoÃ i kháº£ nÄƒng cháº¥p nháº­n cá»§a ngÆ°á»i tiÃªu dÃ¹ng bÃ¬nh thÆ°á»ng. CÃ´ng viá»‡c cá»§a SIP [Marcard et al 2017] chá»©ng minh ráº±ng viá»‡c tÃ¡i táº¡o láº¡i chuyá»ƒn Ä‘á»™ng cá»§a con ngÆ°á»i chá»‰ tá»« 6 IMU lÃ  hoÃ n toÃ n kháº£ thi. Tuy nhiÃªn, lÃ  má»™t phÆ°Æ¡ng phÃ¡p dá»±a trÃªn tá»‘i Æ°u hÃ³a, nÃ³ cáº§n pháº£i truy cáº­p vÃ o toÃ n bá»™ chuá»—i vÃ  máº¥t nhiá»u thá»i gian Ä‘á»ƒ xá»­ lÃ½. NghiÃªn cá»©u SOTA gáº§n Ä‘Ã¢y, DIP [Huang et al 2018] cÅ©ng sá»­ dá»¥ng 6 IMU Ä‘áº¡t Ä‘Æ°á»£c hiá»‡u suáº¥t thá»i gian thá»±c vá»›i cháº¥t lÆ°á»£ng tá»‘t hÆ¡n báº±ng cÃ¡ch sá»­ dá»¥ng biRNN. Tuy nhiÃªn, nÃ³ váº«n khÃ´ng thÃ nh cÃ´ng á»Ÿ cÃ¡c tÆ° tháº¿ khÃ³ vÃ  tá»‘c Ä‘á»™ khung hÃ¬nh 30 khung hÃ¬nh / giÃ¢y khÃ´ng Ä‘á»§ Ä‘á»ƒ chá»¥p cÃ¡c chuyá»ƒn Ä‘á»™ng nhanh, ráº¥t phá»• biáº¿n trong cÃ¡c á»©ng dá»¥ng thá»±c táº¿. Quan trá»ng hÆ¡n, nÃ³ chá»‰ Æ°á»›c tÃ­nh tÆ° tháº¿ cÆ¡ thá»ƒ mÃ  khÃ´ng cÃ³ Æ°á»›c tÃ­nh chuyá»ƒn Ä‘á»™ng trong khÃ´ng gian 3D, vá»‘n quan trá»ng trong nhiá»u á»©ng dá»¥ng nhÆ° VR vÃ  AR. TransPose [Yi et al 2021] Ä‘Ã£ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y vÃ  Ä‘áº¡t Ä‘Æ°á»£c tiáº¿n bá»™ Ä‘áº§u tiÃªn Æ°á»›c lÆ°á»£ng dá»‹ch chuyá»ƒn trong khÃ´ng gian 3D vÃ  Æ°á»›c tÃ­nh tÆ° tháº¿ cÆ¡ thá»ƒ trong thá»i gian thá»±c trong khi cÅ©ng chá»‰ sá»­ dá»¥ng 6 IMU. VÃ¬ báº£n thÃ¢n IMU khÃ´ng cÃ³ kháº£ nÄƒng Ä‘o khoáº£ng cÃ¡ch trá»±c tiáº¿p. Má»™t sá»‘ cÃ´ng trÃ¬nh trÆ°á»›c Ä‘Ã¢y [Liu et al 2011]; [Vlasic et al 2007] sá»­ dá»¥ng cÃ¡c cáº£m biáº¿n siÃªu Ã¢m bá»• sung Ä‘á»ƒ tÃ­nh toÃ¡n chuyá»ƒn Ä‘á»™ng trong khÃ´ng gian 3D, chi phÃ­ cao vÃ  cÃ³ thá»ƒ bá»‹ táº¯c ngháº½n. CÃ¡c giáº£i phÃ¡p kháº£ thi khÃ¡c sá»­ dá»¥ng Ä‘á»‹nh vá»‹ GPS, cÃ¡ch nÃ y khÃ´ng Ä‘á»§ chÃ­nh xÃ¡c vÃ  chá»‰ hoáº¡t Ä‘á»™ng khi ghi chuyá»ƒn Ä‘á»™ng ngoÃ i trá»i.

VÃ¬ váº­y, chÃºng tÃ´i giá»›i thiá»‡u cÃ¡ch tiáº¿p cáº­n cá»§a mÃ¬nh, tÃ¡i táº¡o káº¿t quáº£ cá»§a bÃ i bÃ¡o TransPose, Æ°á»›c tÃ­nh cÃ¡c báº£n dá»‹ch toÃ n cáº§u vÃ  tÆ° tháº¿ cÆ¡ thá»ƒ chá»‰ tá»« 6 IMU [Hi229](http://hipnuc.com/) chi phÃ­ tháº¥p real-time vá»›i CPU i5-5200U á»Ÿ tá»‘c Ä‘á»™ 24 khung hÃ¬nh/giÃ¢y vá»›i Ä‘á»™ chÃ­nh xÃ¡c hiá»‡n Ä‘áº¡i. Thá»±c hiá»‡n chá»¥p chuyá»ƒn Ä‘á»™ng tá»« cÃ¡c IMU thÆ°a thá»›t lÃ  vÃ´ cÃ¹ng khÃ³ khÄƒn, vÃ¬ váº¥n Ä‘á» Ä‘ang bá»‹ háº¡n cháº¿ nghiÃªm trá»ng. ChÃºng tÃ´i Ä‘á» xuáº¥t xÃ¢y dá»±ng nhiá»‡m vá»¥ Æ°á»›c lÆ°á»£ng Ä‘áº·t ra theo 2 giai Ä‘oáº¡n bao gá»“m: chuyá»ƒn Ä‘á»•i Ä‘áº§u vÃ o IMU thÃ nh Ä‘Ã¢u vÃ o model Transpose, vÃ  chuyá»ƒn Ä‘á»•i model Pytorch sang ONNX. Káº¿t quáº£ lÃ , toÃ n bá»™ Ä‘Æ°á»ng á»‘ng cá»§a chÃºng tÃ´i Ä‘áº¡t Ä‘Æ°á»£c hiá»‡u suáº¥t thá»i gian cháº¡y real-time trÃªn CPU.

### 1.2\. Motivation: Äá»™ng lá»±c

CÃ¡c nghiÃªn cá»©u SOTA gáº§n Ä‘Ã¢y háº§u háº¿t sá»­ dá»¥ng cÃ¡c cáº£m biáº¿n quÃ¡n tÃ­nh chuyÃªn dá»¥ng cá»§a Xsens vÃ  Noitom, ráº¥t Ä‘áº¯t tiá»n, lÃ m cho viá»‡c triá»ƒn khai thá»±c táº¿ ráº¥t khÃ³ khÄƒn vÃ  khÃ³ phá»• biáº¿n. KhÃ´ng cÃ³ má»™t cÃ¡ch tiáº¿p cáº­n nÃ o sá»­ dá»¥ng cáº£m biáº¿n quÃ¡n tÃ­nh chi phÃ­ tháº¥p. Tuy nhiÃªn, tÃ¡c pháº©m nÃ y chÃºng tÃ´i Ä‘Ã£ giá»¯ nguyÃªn Ã½ tÆ°á»Ÿng cá»§a bÃ i bÃ¡o Transpose, thá»±c hiá»‡n chuyá»ƒn Ä‘á»•i há»‡ tá»a Ä‘á»™ IMU tá»« Local sang Global. BÃªn cáº¡nh Ä‘Ã³, thiáº¿t káº¿ model tá»‘i Æ°u cháº¡y theo thá»i gian thá»±c trÃªn CPU cÅ©ng Ä‘Ã³ng má»™t vai trÃ² quan trá»ng Ä‘á»ƒ háº¡ tháº¥p yÃªu cáº§u cáº¥u hÃ¬nh mÃ¡y tÃ­nh. NghiÃªn cá»©u táº­p trung vÃ o viá»‡c triá»ƒn khai láº¡i káº¿t quáº£ cá»§a bÃ i bÃ¡o Transpose sá»­ dá»¥ng cáº£m biáº¿n chi phÃ­ tháº¥p vÃ  mÃ´i trÆ°á»ng mÃ¡y tÃ­nh cáº¥u hÃ¬nh tháº¥p chá»‰ sá»­ dá»¥ng CPU khÃ´ng yÃªu cáº§u GPU.

### 1.3\. Objectives and Contributions:  Má»¥c tiÃªu vÃ  Ä‘Ã³ng gÃ³p

Má»¥c tiÃªu cá»§a nghiÃªn cá»©u nÃ y lÃ  triá»ƒn khai láº¡i káº¿t quáº£ bÃ i bÃ¡o Transpose báº±ng cÃ¡ch sá»­ dá»¥ng cáº£m biáº¿n quÃ¡n tÃ­nh chi phÃ­ tháº¥p vÃ  yÃªu cáº§u cáº¥u hÃ¬nh mÃ¡y chá»‰ cáº§n CPU. ÄÃ¡ng chÃº Ã½, luáº­n Ã¡n nÃ y Ä‘á» xuáº¥t cÃ¡ch chuyá»ƒn Ä‘á»•i há»‡ tá»a Ä‘á»™ tá»« há»‡ tá»a Ä‘á»™ local cá»§a tá»«ng cáº£m biáº¿n thÃ nh há»‡ tá»a Ä‘á»™ global liÃªn há»‡ táº¥t cáº£ cÃ¡c cáº£m biáº¿n. BÃªn cáº¡ch Ä‘Ã³ luáº­n Ã¡n nÃ y Ä‘Ã³ng gÃ³p chuyá»ƒn Ä‘á»•i framework neuralnetwork nghiÃªn cá»©u Python sang framework ONNX chuyÃªn cho viá»‡c tá»‘i Æ°u cho triá»ƒn khai.

### 1.4\. Organization: Tá»• chá»©c

BÃ i viáº¿t nÃ y Ä‘Æ°á»£c cáº¥u trÃºc nhÆ° sau. ChÆ°Æ¡ng 2 giá»›i thiá»‡u cÃ¡c nghiÃªn cá»©u tÃ i liá»‡u liÃªn quan Ä‘áº¿n luáº­n Ã¡n. ChÆ°Æ¡ng 3 trÃ¬nh bÃ y chi tiáº¿t cÃ¡c chiáº¿n lÆ°á»£c cá»§a chÃºng tÃ´i, bao gá»“m kiáº¿n trÃºc mÃ´ phá»ng tÃ¹y chá»‰nh vÃ  phÆ°Æ¡ng phÃ¡p giáº£ng dáº¡y. ChÆ°Æ¡ng 4 trÃ¬nh bÃ y viá»‡c thá»±c hiá»‡n thiáº¿t káº¿ vÃ  cÃ¡c thÃ­ nghiá»‡m. ChÆ°Æ¡ng 5 káº¿t thÃºc luáº­n Ã¡n vÃ  Ä‘á» xuáº¥t cÃ´ng viá»‡c trong tÆ°Æ¡ng lai

BÃ i viáº¿t nÃ y Ä‘Æ°á»£c cáº¥u trÃºc nhÆ° sau. ChÆ°Æ¡ng 2 giá»›i thiá»‡u cÃ¡c nghiÃªn cá»©u tÃ i liá»‡u liÃªn quan Ä‘áº¿n luáº­n Ã¡n. ChÆ°Æ¡ng 3 ... ChÆ°Æ¡ng 4 ...

## 2\. Related work: CÃ´ng viá»‡c liÃªn quan:

Chá»¥p chuyá»ƒn Ä‘á»™ng cá»§a con ngÆ°á»i (mocap) Ä‘Ã£ cÃ³ lá»‹ch sá»­ nghiÃªn cá»©u lÃ¢u Ä‘á»i. Nhiá»u nghiÃªn cá»©u Ä‘Ã£ Ä‘Æ°á»£c dÃ nh cho chá»§ Ä‘á» nÃ y, chá»§ yáº¿u cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n loáº¡i thÃ nh cÃ¡c phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n quang há»c, quÃ¡n tÃ­nh vÃ  lai. VÃ¬ phÆ°Æ¡ng phÃ¡p cá»§a chÃºng tÃ´i chá»‰ yÃªu cáº§u cÃ¡c phÃ©p Ä‘o IMU lÃ m Ä‘áº§u vÃ o, nÃªn chÃºng tÃ´i khÃ´ng tháº£o luáº­n vá» cÃ¡c phÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n dá»±a trÃªn hÃ¬nh áº£nh thuáº§n tÃºy [15, 16, 24, 27, 40, 48, 58]. á» Ä‘Ã¢y, chÃºng tÃ´i táº­p trung vÃ o cÃ¡c giáº£i phÃ¡p mocap lai vÃ  quÃ¡n tÃ­nh.

### 2.1\. Optical-inertial Hybrid Motion Capture: Chá»¥p chuyá»ƒn Ä‘á»™ng lai quÃ¡n tÃ­nh quang há»c. 

Khi cÃ¡c giáº£i phÃ¡p mocap dá»±a trÃªn hÃ¬nh áº£nh bá»‹ hiá»‡n tÆ°á»£ng táº¯c ngháº½n, viá»‡c káº¿t há»£p hÃ¬nh áº£nh vá»›i IMU, nháº±m má»¥c Ä‘Ã­ch Ä‘áº¡t Ä‘Æ°á»£c kháº£ nÄƒng theo dÃµi chuyá»ƒn Ä‘á»™ng máº¡nh máº½ hÆ¡n, gáº§n Ä‘Ã¢y Ä‘Ã£ thu hÃºt nhiá»u sá»± chÃº Ã½. Äiá»u nÃ y cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c báº±ng cÃ¡ch tá»‘i Æ°u hÃ³a dá»±a trÃªn [22, 36â€“38,43,65], tá»‘i Æ°u hÃ³a tÆ° tháº¿ ngÆ°á»i Ä‘á»ƒ phÃ¹ há»£p vá»›i cáº£ cÃ¡c Ä‘áº·c Ä‘iá»ƒm hÃ¬nh áº£nh vÃ  phÃ©p Ä‘o quÃ¡n tÃ­nh hoáº·c Æ°á»›c tÃ­nh dá»±a trÃªn tÃ­nh nÄƒng [13, 62] trong Ä‘Ã³ há»“i quy tÆ° tháº¿ cá»§a con ngÆ°á»i tá»« cÃ¡c tÃ­nh nÄƒng káº¿t há»£p cÃ³ nguá»“n gá»‘c tá»« hÃ¬nh áº£nh vÃ  IMU. Zhang vÃ  cá»™ng sá»±. [87] Ä‘á» xuáº¥t khai thÃ¡c IMU trong Æ°á»›c tÃ­nh tÆ° tháº¿ 2D báº±ng cÃ¡ch káº¿t há»£p cÃ¡c Ä‘áº·c Ä‘iá»ƒm hÃ¬nh áº£nh cá»§a tá»«ng cáº·p khá»›p Ä‘Æ°á»£c liÃªn káº¿t bá»Ÿi IMU. Má»™t sá»‘ hoáº¡t Ä‘á»™ng káº¿t há»£p IMU vá»›i hÃ¬nh áº£nh Ä‘á»™ sÃ¢u [18, 23, 90] hoáº·c Ä‘iá»ƒm Ä‘Ã¡nh dáº¥u quang há»c 1 Ä‘á»ƒ thá»±c hiá»‡n chá»¥p chuyá»ƒn Ä‘á»™ng / hiá»‡u suáº¥t cá»§a con ngÆ°á»i. Tuy nhiÃªn, cÃ¡c phÆ°Æ¡ng phÃ¡p nÃ y váº«n cÃ²n háº¡n cháº¿ Ä‘Ã¡ng ká»ƒ trong Ä‘iá»u kiá»‡n Ã¡nh sÃ¡ng yáº¿u vÃ  táº¯c ngháº½n, Ä‘á»“ng thá»i yÃªu cáº§u pháº£i di chuyá»ƒn trong táº§m nhÃ¬n cá»§a mÃ¡y áº£nh. PhÆ°Æ¡ng phÃ¡p cá»§a chÃºng tÃ´i khÃ´ng yÃªu cáº§u Ä‘áº§u vÃ o hÃ¬nh áº£nh vÃ  do Ä‘Ã³ khÃ´ng cÃ³ nhá»¯ng háº¡n cháº¿ nÃ y.

### 2.2\. Motion Capture from Inertial Sensors: Chá»¥p chuyá»ƒn Ä‘á»™ng tá»« cáº£m biáº¿n quÃ¡n tÃ­nh. 

PhÆ°Æ¡ng phÃ¡p tiáº¿p cáº­n mocap quÃ¡n tÃ­nh khÃ´ng bá»‹ táº¯c ngháº½n hoáº·c háº¡n cháº¿ khÃ´ng gian di chuyá»ƒn. CÃ¡c giáº£i phÃ¡p thÆ°Æ¡ng máº¡i [34, 71] vÃ  cÃ´ng viá»‡c má»Ÿ rá»™ng [14] dá»±a vÃ o 17 IMU Ä‘á»ƒ thá»±c hiá»‡n chá»¥p chuyá»ƒn Ä‘á»™ng. Há» thÆ°á»ng yÃªu cáº§u máº·c má»™t bá»™ Ä‘á»“ bÃ³ sÃ¡t vá»›i cÃ¡c IMU dÃ y Ä‘áº·c, Ä‘iá»u nÃ y gÃ¢y báº¥t tiá»‡n vÃ  cáº£n trá»Ÿ. RÃµ rÃ ng lÃ  nÃªn cÃ³ má»™t bá»™ IMU giáº£m bá»›t trÃªn cÆ¡ thá»ƒ. Tuy nhiÃªn, viá»‡c chá»¥p chuyá»ƒn Ä‘á»™ng tá»« cÃ¡c cáº£m biáº¿n quÃ¡n tÃ­nh thÆ°a thá»›t lÃ  ráº¥t mÆ¡ há»“ vÃ  khÃ³ khÄƒn. Má»™t sá»‘ nghiÃªn cá»©u [31, 59, 64] sá»­ dá»¥ng cáº£m biáº¿n siÃªu Ã¢m Ä‘á»ƒ cÃ³ thÃªm thÃ´ng tin vá»‹ trÃ­ nháº±m giáº£i quyáº¿t má»™t sá»‘ Ä‘iá»ƒm mÆ¡ há»“, nhÆ°ng viá»‡c sá»­ dá»¥ng cáº£m biáº¿n khoáº£ng cÃ¡ch sáº½ háº¡n cháº¿ pháº¡m vi hoáº¡t Ä‘á»™ng. CÃ¡c káº¿t quáº£ Ä‘áº§u tiÃªn thuáº§n tÃºy quÃ¡n tÃ­nh [47, 57, 60]  sá»­ dá»¥ng gia tá»‘c káº¿ thÆ°a thá»›t Ä‘á»ƒ tÃ¡i táº¡o láº¡i tÆ° tháº¿ cá»§a con ngÆ°á»i báº±ng cÃ¡ch tÃ¬m kiáº¿m cÆ¡ sá»Ÿ dá»¯ liá»‡u. Schwarz vÃ  cá»™ng sá»±. [50] sá»­ dá»¥ng cÃ¡c phÃ©p Ä‘o Ä‘á»‹nh hÆ°á»›ng thÆ°a thá»›t Ä‘á»ƒ thá»±c hiá»‡n Æ°á»›c tÃ­nh tÆ° tháº¿ dÃ nh riÃªng cho tá»«ng ngÆ°á»i. Äá»ƒ cáº£i thiá»‡n Ä‘á»™ chÃ­nh xÃ¡c, cÃ¡c nghiÃªn cá»©u gáº§n Ä‘Ã¢y [12, 20, 44, 66, 73] sá»­ dá»¥ng cáº£ phÃ©p Ä‘o gia tá»‘c vÃ  Ä‘á»‹nh hÆ°á»›ng. Marcard vÃ  cá»™ng sá»±. [66] trÃ¬nh bÃ y má»™t phÆ°Æ¡ng phÃ¡p ngoáº¡i tuyáº¿n Ä‘á»ƒ chá»¥p chuyá»ƒn Ä‘á»™ng cá»§a con ngÆ°á»i chá»‰ tá»« 6 IMU, Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»™ chÃ­nh xÃ¡c Ä‘áº§y há»©a háº¹n. Huang vÃ  cá»™ng sá»±. [20] Ä‘á» xuáº¥t phÆ°Æ¡ng phÃ¡p há»c sÃ¢u Ä‘áº§u tiÃªn, sá»­ dá»¥ng máº¡ng nÆ¡-ron láº·p láº¡i hai chiá»u (biRNN) Ä‘á»ƒ Æ°á»›c tÃ­nh tÆ° tháº¿ con ngÆ°á»i tá»« 6 IMU trong thá»i gian thá»±c. Tuy nhiÃªn, phÆ°Æ¡ng phÃ¡p cá»§a há» khÃ´ng cho phÃ©p xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ cá»§a ngÆ°á»i Ä‘Ã³ trong khÃ´ng gian 3D. PhÆ°Æ¡ng phÃ¡p hiá»‡n Ä‘áº¡i nháº¥t, TransPose [73], giá»›i thiá»‡u khung Æ°á»›c lÆ°á»£ng dá»‹ch vÃ  tÆ° tháº¿ thá»i gian thá»±c Ä‘áº§u tiÃªn, giÃºp Ä‘áº¡t Ä‘Æ°á»£c cháº¥t lÆ°á»£ng chá»¥p chÃ­nh xÃ¡c trong khi cÅ©ng chá»‰ sá»­ dá»¥ng 6 IMU.

Tuy nhiÃªn, táº¥t cáº£ cÃ¡c tÃ¡c pháº©m nÃ y Ä‘á»u cÃ³ Ä‘á»™ trá»… khÃ´ng Ä‘Ã¡ng ká»ƒ do nhu cáº§u thÃ´ng tin trong tÆ°Æ¡ng lai vá»‘n cÃ³, khÃ´ng thá»ƒ chá»¥p á»•n Ä‘á»‹nh cÃ¡c tÆ° tháº¿ mÆ¡ há»“ vÃ  cÃ³ nhiá»u hiá»‡n váº­t phi váº­t lÃ½ nhÆ° rung vÃ  trÆ°á»£t chÃ¢n. NgÆ°á»£c láº¡i, phÆ°Æ¡ng phÃ¡p cá»§a chÃºng tÃ´i khÃ´ng dá»±a vÃ o báº¥t ká»³ thÃ´ng tin nÃ o trong tÆ°Æ¡ng lai vÃ  khÃ´ng bá»‹ cháº­m trá»… trong khi tháº­m chÃ­ Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»™ chÃ­nh xÃ¡c cao hÆ¡n. NgoÃ i ra, chÃºng tÃ´i lÃ  ngÆ°á»i Ä‘áº§u tiÃªn káº¿t há»£p tá»‘i Æ°u hÃ³a chuyá»ƒn Ä‘á»™ng dá»±a trÃªn váº­t lÃ½ vá»›i chá»¥p chuyá»ƒn Ä‘á»™ng quÃ¡n tÃ­nh thÆ°a thá»›t vÃ  chÃºng tÃ´i cho tháº¥y ráº±ng má»™t thiáº¿t káº¿ Ä‘Æ°á»£c tá»• chá»©c cáº©n tháº­n nhÆ° váº­y sáº½ cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ Ä‘á»™ chÃ­nh xÃ¡c váº­t lÃ½ cá»§a chuyá»ƒn Ä‘á»™ng.

## 3\. Method: PhÆ°Æ¡ng phÃ¡p

Nhiá»‡m vá»¥ cá»§a chÃºng tÃ´i lÃ  Æ°á»›c tÃ­nh cÃ¡c tÆ° tháº¿ vÃ  báº£n dá»‹ch cá»§a chá»§ Ä‘á» trong thá»i gian thá»±c báº±ng cÃ¡ch sá»­ dá»¥ng 6 IMU. NhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong HÃ¬nh 3, 6 IMU Ä‘Æ°á»£c gáº¯n trÃªn xÆ°Æ¡ng cháº­u, chÃ¢n dÆ°á»›i bÃªn trÃ¡i vÃ  bÃªn pháº£i, cáº³ng tay trÃ¡i vÃ  pháº£i vÃ  Ä‘áº§u. Sau Ä‘Ã¢y, chÃºng tÃ´i Ä‘á» cáº­p Ä‘áº¿n cÃ¡c khá»›p ná»‘i nÃ y ngoáº¡i trá»« xÆ°Æ¡ng cháº­u, Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  khá»›p gá»‘c. ChÃºng tÃ´i chia nhiá»‡m vá»¥ nÃ y thÃ nh hai nhiá»‡m vá»¥: Chuyá»ƒn Ä‘á»•i há»‡ tá»a Ä‘á»™ tá»« há»‡ tá»a Ä‘á»™ local cá»§a tá»«ng cáº£m biáº¿n thÃ nh há»‡ tá»a Ä‘á»™ global liÃªn há»‡ táº¥t cáº£ cÃ¡c cáº£m biáº¿n (Pháº§n 3.2) vÃ  chuyá»ƒn Ä‘á»•i framework neuralnetwork nghiÃªn cá»©u Python sang framework ONNX chuyÃªn cho viá»‡c tá»‘i Æ°u cho triá»ƒn khai (Pháº§n 3.3).

![image](https://user-images.githubusercontent.com/99313947/178130401-fe8f0574-9933-4405-8f33-716dbce70e4a.png)
HÃ¬nh 3. Vá»‹ trÃ­ IMU. 6 IMU Ä‘Æ°á»£c gáº¯n trÃªn cáº³ng tay trÃ¡i vÃ  pháº£i, cáº³ng chÃ¢n trÃ¡i vÃ  pháº£i, Ä‘áº§u vÃ  xÆ°Æ¡ng cháº­u. ChÃºng tÃ´i yÃªu cáº§u cÃ¡c cáº£m biáº¿n Ä‘Æ°á»£c káº¿t dÃ­nh cháº·t cháº½ xung quanh cÃ¡c khá»›p vá»›i cÃ¡c hÆ°á»›ng tÃ¹y Ã½.

### 3.1\. System Input: Äáº§u vÃ o há»‡ thá»‘ng

ChÃºng tÃ´i láº¥y sá»‘ Ä‘o vÃ²ng quay vÃ  gia tá»‘c cá»§a má»—i IMU lÃ m Ä‘áº§u vÃ o tá»•ng thá»ƒ cá»§a há»‡ thá»‘ng. ChÃºng tÃ´i sáº¯p xáº¿p cÃ¡c phÃ©p Ä‘o nÃ y vÃ o cÃ¹ng má»™t há»‡ quy chiáº¿u vÃ  chuáº©n hÃ³a chÃºng Ä‘á»ƒ thu Ä‘Æ°á»£c vectÆ¡ Ä‘áº§u vÃ o ná»‘i liá»n lÃ  ğ’™ (0) = [Rroot, Â· Â· Â·, Rrarm, Rroot, Â· Â· Â·, Rrarm] âˆˆ R 72 trong Ä‘Ã³ ğ’‚ âˆˆ R 3 lÃ  gia tá»‘c vÃ  ğ‘¹ âˆˆ R 3 Ã— 3 lÃ  ma tráº­n quay. ChÃºng tÃ´i sá»­ dá»¥ng ğ’™ (0) (ğ‘¡) Ä‘á»ƒ chá»‰ cÃ¡c phÃ©p Ä‘o cá»§a khung thá»© ğ‘¡ vÃ  chá»‰ sá»‘ trÃªn (0) cÃ³ nghÄ©a lÃ  nÃ³ lÃ  Ä‘áº§u vÃ o tá»•ng thá»ƒ. Vui lÃ²ng tham kháº£o Phá»¥ lá»¥c A Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t vá» tiá»n xá»­ lÃ½ cáº£m biáº¿n.

### 3.2\. Convert Local - Global:

![image](https://user-images.githubusercontent.com/99313947/178130727-5ea3a0ac-a583-45b6-8d80-46c79b8b7e9d.png)

### 3.3\. Convert Pytorch - ONNX:

![image](https://user-images.githubusercontent.com/99313947/178130684-6cc7fc80-11de-4426-b7db-3b272c8770e8.png)



